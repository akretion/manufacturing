<?xml version="1.0" encoding="UTF-8"?>
<openerp>
  <data>

<record id="mrp_workcenter_view" model="ir.ui.view">
    <field name="model">mrp.workcenter</field>
    <field name="inherit_id" ref="mrp.mrp_workcenter_view"/>
    <field name="arch" type="xml">
        <field name="active" position="after">
            <field name="parent_id"/>
        </field>
    </field>
</record>

<record id="mrp_workcenter_tree_view" model="ir.ui.view">
    <field name="model">mrp.workcenter</field>
    <field name="inherit_id" ref="mrp.mrp_workcenter_tree_view"/>
    <field name="arch" type="xml">
        <field name="resource_type" position="before">
            <field name="parent_id"/>
        </field>
    </field>
</record>

<record id="view_workcenter_load_list" model="ir.ui.view">
    <field name="model">mrp.workcenter</field>
    <field name="field_parent">child_id</field>
    <field name="arch" type="xml">
        <tree string="Workcenters" toolbar="1" version="7.0">
            <field name="code"/>
            <field name="name"/>
            <field name="global_load"/>
            <field name="load"/>
            <field name="last_compute"/>
            <field name="parent_id"/>
            <button name="iter_selection_next"
                    context="{'selection_field': 'my_selection_field'}"
                    icon="gtk-go-forward"
                    type="object"/>
        </tree>
    </field>
</record>

<record id="mrp_workcenter_load_action" model="ir.actions.act_window">
    <field name="name">Workcenters Load (Cached data)</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">mrp.workcenter</field>
    <field name="view_type">tree</field>
    <field name="view_id" ref="view_workcenter_load_list"/>
</record>

<menuitem
    id="menu_mrp_load"
    name="Load"
    parent="mrp.menu_mrp_planning"
    sequence="26" groups="base.group_no_one"/>

<menuitem
    action="mrp_workcenter_load_action"
    id="menu_mrp_workcenter_load"
    parent="menu_mrp_load"
    sequence="10" groups="base.group_no_one"/>


<!-- After installation of the module, open the related menu -->
<record id="action_workcenter_load_module_install" model="ir.actions.client">
    <field name="name">Open Workcenter Load Menu</field>
    <field name="tag">reload</field>
    <field name="params"
           eval="{'menu_id': ref('menu_mrp_workcenter_load')}"/>
</record>
<record id="base.open_menu" model="ir.actions.todo">
    <field name="action_id" ref="action_workcenter_load_module_install"/>
    <field name="state">open</field>
</record>


  </data>
</openerp>
